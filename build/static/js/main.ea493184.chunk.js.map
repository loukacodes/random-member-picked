{"version":3,"sources":["client/helpers/shuffle.ts","client/team/TeamCard.tsx","client/app/App.tsx","index.tsx","client/team/TeamCard.module.scss","client/app/App.module.scss"],"names":["shuffle","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","TeamCard","name","members","facilitator","className","styles","root","map","App","localStorageData","JSON","parse","window","localStorage","getItem","toString","useState","teams","setTeamsWithFacilitator","useEffect","fetch","headers","Accept","then","response","json","data","team","moment","format","teamCardWrapper","onClick","shuffledTeams","Array","from","teamsWithFacilitator","max","alternativeIndex","findIndex","shuffledTeam","anotherTeamMembers","setItem","stringify","button","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"mNAAO,SAASA,EAAWC,GAKzB,IAJA,IACEC,EACAC,EAFEC,EAAeH,EAAMI,OAIlB,IAAMD,GACXD,EAAcG,KAAKC,MAAMD,KAAKE,SAAWJ,GAGzCF,EAAiBD,EAFjBG,GAAgB,GAGhBH,EAAMG,GAAgBH,EAAME,GAC5BF,EAAME,GAAeD,EAGvB,OAAOD,E,oBCaMQ,EAnB2B,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC1D,OACE,sBAAKC,UAAWC,IAAOC,KAAvB,UACE,oBAAIF,UAAWC,IAAOJ,KAAtB,SAA6BA,IAC7B,8BACGC,EAAQK,KAAI,SAACN,GACZ,OAAO,8BAAMA,SAGjB,sBAAKG,UAAWC,IAAOF,YAAvB,UACE,2DACA,8BACE,iCAASA,a,gBCoEJK,EAjFH,WAAO,IAAD,EACVC,EAAmBC,KAAKC,OAC5B,UAAAC,OAAOC,aAAaC,QAAQ,+BAA5B,eAAqDC,aAAc,MAFrD,EAIyBC,mBACvCP,GALc,mBAITQ,EAJS,KAIFC,EAJE,KA2BhBC,qBAAU,WACHV,GAAgD,IAA5BA,EAAiBb,QAnB1CwB,MAAM,YAAa,CACjBC,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAGTC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBF,MAAK,SAAUG,GACdR,EACEQ,EAAKnB,KAAI,SAACoB,GACR,OAAO,2BAAKA,GAAZ,IAAkBxB,YAAa,2BAUtC,CAACM,IA8BJ,OACE,sBAAKL,UAAWC,IAAOC,KAAvB,UACE,gEACA,6BAAKsB,MAASC,OAAO,eACrB,qBAAKzB,UAAWC,IAAOyB,gBAAvB,SACGb,EAAMV,KAAI,SAACoB,GAAD,OACT,cAAC,EAAD,CACE1B,KAAM0B,EAAK1B,KACXC,QAASyB,EAAKzB,QACdC,YAAawB,EAAKxB,mBAIxB,wBAAQ4B,QArCY,WACtB,IAAKd,EAAO,OAAO,KAEnB,IAAMe,EAAgBzC,EAAQ0C,MAAMC,KAAKjB,IACnCkB,EAAuBlB,EAAMV,KAAI,SAACoB,GACtC,IATkBS,EASZC,EAAmBL,EAAcM,WACrC,SAACC,GAAD,OAAkBA,IAAiBZ,KAE/Ba,EAAqBvB,EAAMoB,GAAkBnC,QAE7CC,EAD6BZ,EAAQ0C,MAAMC,KAAKM,KAbpCJ,EAewBI,EAAmB5C,OAdxDC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMsC,MAe3C,OAAO,2BACFT,GADL,IAEExB,YAAaA,OAGjBe,EAAwBiB,GACxBvB,OAAOC,aAAa4B,QAClB,uBACA/B,KAAKgC,UAAUP,KAiBmB/B,UAAWC,IAAOsC,OAApD,iCC7ENC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCP1BC,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,YAAc,gC,kBCA5FD,EAAOC,QAAU,CAAC,KAAO,kBAAkB,gBAAkB,6BAA6B,OAAS,uB","file":"static/js/main.ea493184.chunk.js","sourcesContent":["export function shuffle<T>(array: T[]): T[] {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex)\n    currentIndex -= 1\n\n    temporaryValue = array[currentIndex]\n    array[currentIndex] = array[randomIndex]\n    array[randomIndex] = temporaryValue\n  }\n\n  return array\n}\n\n// original source: https://bost.ocks.org/mike/shuffle/","import React from 'react'\nimport styles from './TeamCard.module.scss'\n\ninterface TeamCardProps {\n  name: string\n  members: string[]\n  facilitator?: string\n}\nconst TeamCard: React.FC<TeamCardProps> = ({ name, members, facilitator }) => {\n  return (\n    <div className={styles.root}>\n      <h3 className={styles.name}>{name}</h3>\n      <div>\n        {members.map((name) => {\n          return <div>{name}</div>\n        })}\n      </div>\n      <div className={styles.facilitator}>\n        <div>Facilitator this month: </div>\n        <div>\n          <strong>{facilitator}</strong>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TeamCard\n","import moment from 'moment'\nimport React, { useEffect, useState } from 'react'\nimport { Team, TeamWithFacilitator } from '../../common/types'\nimport { shuffle } from '../helpers/shuffle'\nimport TeamCard from '../team/TeamCard'\nimport styles from './App.module.scss'\n\nconst App = () => {\n  const localStorageData = JSON.parse(\n    window.localStorage.getItem('teamsWithFacilitator')?.toString() || '[]'\n  )\n  const [teams, setTeamsWithFacilitator] = useState<TeamWithFacilitator[]>(\n    localStorageData\n  )\n\n  const getData = () => {\n    fetch('data.json', {\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n      },\n    })\n      .then(function (response) {\n        return response.json()\n      })\n      .then(function (data) {\n        setTeamsWithFacilitator(\n          data.map((team: Team) => {\n            return { ...team, facilitator: 'Not yet found' }\n          })\n        )\n      })\n  }\n\n  useEffect(() => {\n    if (!localStorageData || localStorageData.length === 0) {\n      getData()\n    }\n  }, [localStorageData])\n\n  function getRandomInt(max: number) {\n    return Math.floor(Math.random() * Math.floor(max))\n  }\n\n  const findFacilitator = () => {\n    if (!teams) return null\n\n    const shuffledTeams = shuffle(Array.from(teams))\n    const teamsWithFacilitator = teams.map((team) => {\n      const alternativeIndex = shuffledTeams.findIndex(\n        (shuffledTeam) => shuffledTeam === team\n      )\n      const anotherTeamMembers = teams[alternativeIndex].members\n      const shuffledAnotherTeamMembers = shuffle(Array.from(anotherTeamMembers))\n      const facilitator =\n        shuffledAnotherTeamMembers[getRandomInt(anotherTeamMembers.length)]\n      return {\n        ...team,\n        facilitator: facilitator,\n      }\n    })\n    setTeamsWithFacilitator(teamsWithFacilitator)\n    window.localStorage.setItem(\n      'teamsWithFacilitator',\n      JSON.stringify(teamsWithFacilitator)\n    )\n  }\n\n  return (\n    <div className={styles.root}>\n      <h1>Monthly facilitator generation</h1>\n      <h3>{moment().format('MMMM YYYY')}</h3>\n      <div className={styles.teamCardWrapper}>\n        {teams.map((team) => (\n          <TeamCard\n            name={team.name}\n            members={team.members}\n            facilitator={team.facilitator}\n          />\n        ))}\n      </div>\n      <button onClick={findFacilitator} className={styles.button}>\n        Map facilitator\n      </button>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './client/app/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TeamCard_root__3DN4O\",\"name\":\"TeamCard_name__MsA86\",\"facilitator\":\"TeamCard_facilitator__2SiBL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__2V7rr\",\"teamCardWrapper\":\"App_teamCardWrapper__1NDBj\",\"button\":\"App_button__2jxjg\"};"],"sourceRoot":""}